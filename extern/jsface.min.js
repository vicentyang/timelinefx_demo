/*
 * JSFace Object Oriented Programming Library.
 * Copyright (c) Tan Nhu, http://lnkd.in/tnhu
 */
(function(q,x,y,z,G,A,B,H,C,r){function D(a){return a&&typeof a===x&&!(typeof a.length===y&&!a.propertyIsEnumerable(z))&&a||null}function E(a){return a&&typeof a===x&&typeof a.length===y&&!a.propertyIsEnumerable(z)&&a||null}function u(a){return a&&"function"===typeof a&&a||null}function v(a){return u(a)&&a.prototype&&a===a.prototype.constructor&&a||null}function w(a,c,b){if(E(c))for(var d=c.length;0<=--d;)w(a,c[d],b);else{b=b||{constructor:1,$super:1,prototype:1,$superp:1};var d=v(a),h=v(c),e=a.prototype,
g,k;if(D(c)||d)for(g in c){k=g;var l=c[g],f=a;b&&b.hasOwnProperty(k)||(f[k]=l)}if(h)for(g in k=c.prototype,k){var l=g,f=k[g],n=a;b&&b.hasOwnProperty(l)||(n[l]=f)}d&&h&&w(e,c.prototype,b)}}function F(a){var c,b;Object.freeze(a);for(b in a)c=a[b],a.hasOwnProperty(b)&&"object"===typeof c&&!Object.isFrozen(c)&&F(c)}function t(a,c){c||(a=(c=a,0));var b,d,h,e,g,k,l=0,f,n={constructor:1,$singleton:1,$static:1,$statics:1,prototype:1,$super:1,$superp:1,main:1,toString:0},p=t.plugins,m;c=("function"===typeof c?
c():c)||{};b=c.hasOwnProperty("constructor")?c.constructor:0;d=c.$singleton;h=c.$statics||c.$static;for(e in p)n[e]=1;b=d?function(){}:b?b:function(){};k=(a=!a||a instanceof Array?a:[a])&&a.length;m=a[0];!d&&k&&((g=m.prototype&&m===m.prototype.constructor&&m)?(f=function(){},f.prototype=g.prototype,f.prototype.constructor=f,b.prototype=new f,b.prototype.constructor=b,g.prototype.constructor=g):b.prototype=m);for(g=d?b:b.prototype;l<k;){f=a[l++];for(e in f)n[e]||(b[e]=f[e]);if(!d&&0!==l)for(e in f.prototype)n[e]||
(g[e]=f.prototype[e])}for(e in c)n[e]||((d=c[e])&&(d.get||d.set)?Object.defineProperty(g,e,d):g[e]=d);for(e in h)b[e]=h[e];f=a&&m||a;b.$super=f;b.$superp=f&&f.prototype||f;for(e in p)p[e](b,a,c);"function"===typeof c.main&&c.main.call(b,b);return b}t.plugins={$ready:function c(b,d,h,e){for(var g=h.$ready,k=d?d.length:0,l=k,f=k&&d[0].$super,n,p,m;k--;)for(p=0;p<B&&(m=A[p],n=d[k],n===m[0]&&(m[1].call(n,b,d,h),l--),l);p++);f&&c(b,[f],h,!0);!e&&u(g)&&(g.call(b,b,d,h),A.push([b,g]),B++)},$const:function(c,
b,d){var h;b=d.$const;for(h in b)Object.defineProperty(c,h,{enumerable:!0,value:b[h]}),"object"!==typeof c[h]||Object.isFrozen(c[h])||F(c[h])}};r={Class:t,extend:w,mapOrNil:D,arrayOrNil:E,functionOrNil:u,classOrNil:v};"undefined"!==typeof module&&module.exports?module.exports=r:(C=q.Class,q.Class=t,q.jsface=r,r.noConflict=function(){q.Class=C})})(this,"object","number","length",Object.prototype.toString,[],0);
